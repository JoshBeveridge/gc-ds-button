@layer reset, default, type, wide, compact;

@layer reset {
  :host {
    display: block;

    .gcds-notice {
      text-align: left;
      box-sizing: border-box;

      slot {
        display: initial;
      }
    }
  }
}

@layer default {
  :host .gcds-notice {
    container: component notice / inline-size;
    color: var(--gcds-notice-text);
    padding: var(--gcds-notice-padding);
    border-inline-start: var(--gcds-notice-border-width) solid transparent;

    .notice__content {
      flex: 1 1 auto;

      .notice__heading {
        --gcds-heading-h2-desktop: var(--gcds-notice-content-heading-font-desktop);
        --gcds-heading-h2-mobile: var(--gcds-notice-content-heading-font-desktop);

        .notice__type {
          font: var(--gcds-notice-content-type-desktop);
          display: block;
          margin: 0;
        }
      }

      ::slotted(*) {
        margin-block-start: 0;
      }

      ::slotted(*:last-child) {
        margin-block-end: 0;
      }

      ::slotted(*:not(:last-child)) {
        margin-block-end: var(--gcds-notice-content-slotted-margin);
      }

      ::slotted(ol),
      ::slotted(ul) {
        margin-inline-start: var(--gcds-notice-content-slotted-list-margin);
        padding: 0;
      }
    }
  }
}

@layer type {
  :host .gcds-notice {
    &.notice--type-danger {
      border-color: var(--gcds-notice-danger-text);
      
      .notice__type {
        color: var(--gcds-notice-danger-text);
      }
    }

    &.notice--type-info {
      border-color: var(--gcds-notice-info-text);
      
      .notice__type {
        color: var(--gcds-notice-info-text);
      }
    }

    &.notice--type-success {
      border-color: var(--gcds-notice-success-text);
      
      .notice__type {
        color: var(--gcds-notice-success-text);
      }
    }

    &.notice--type-warning {
      border-color: var(--gcds-notice-warning-text);

      .notice__type {
        color: var(--gcds-notice-warning-text);
      }
    }
  }
}

@layer wide {
  @container notice (width >= 36em) {
    :host .gcds-notice .notice__container {
      display: flex;
      align-items: flex-start;
    }
  }
}

@layer compact {
  @container notice (width < 36em) {
    :host .gcds-notice {
      .notice__icon {
        margin: var(--gcds-notice-icon-mobile-margin);
      }

      .notice__heading {
        --gcds-heading-h2-desktop: var(--gcds-notice-content-heading-font-mobile);
        --gcds-heading-h2-mobile: var(--gcds-notice-content-heading-font-mobile);

        .notice__type {
          font: var(--gcds-notice-content-type-mobile);
        }
      }

      .notice__close-btn {
        margin: var(--gcds-notice-button-mobile-margin);
      }
    }
  }
}
